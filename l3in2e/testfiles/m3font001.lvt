%
% Copyright (C) 2011 LaTeX3 project
% 

\documentclass{minimal}
\input{regression-test}
\RequirePackage[log-functions]{expl3}

\begin{document}

\START
\AUTHOR{Will Robertson}
\ExplSyntaxOn

\TEST{set~font}{
  {\font_set:Nnn \1 {ec-lmr10} {10pt}
  \TYPE{\string\1:~\meaning\1}}
  {\font_gset:Nnn \2 {ec-lmr12} {12pt}}
  \TYPE{\string\1:~\meaning\1}
  \TYPE{\string\2:~\meaning\2}
}

\TEST{set~font_eq}{
  \font_set:Nnn \1 {ec-lmr10} {10pt}
  {
    \font_set_eq:NN \2 \1
    \font_gset_eq:NN \3 \1
    \TYPE{\string\2:~\meaning\2}  
    \TYPE{\string\3:~\meaning\3}  
  }
  \TYPE{\string\2:~\meaning\2}
  \TYPE{\string\3:~\meaning\3}
}

\TEST{set_font_to_current}{
  \TYPE{\string\1:~ \meaning\1}
  \font_set:Nnn \2 {ec-lmss10} {10pt}
  {
    \font_set_to_current:N \1
    \font_gset_to_current:N \0
    \TYPE{\string\1:~ \meaning\1}
    \TYPE{\string\0:~ \meaning\0}
  }
  \TYPE{\string\1:~ \meaning\1}
  \TYPE{\string\0:~ \meaning\0}
}

\TEST{test~null~(expect~T/F)}{
  \batchmode
  \font_set:Nnn \0 {NOEXISTFONT} {10pt}
  \nonstopmode
  \font_if_null:NTF \0 {\TRUE} {\FALSE}
  \font_if_null:NTF \1 {\TRUE} {\FALSE}
}

\END
