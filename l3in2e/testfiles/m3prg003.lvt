%
% Copyright (C) 2008 LaTeX3 project
% 

\documentclass{minimal}
\input{regression-test}
\RequirePackage{expl3}
\ExplSyntaxOff
\begin{document}

\START
\AUTHOR{Will Robertson}
\ExplSyntaxOn

\TESTEXP{Basics}{                                  
  \bool_p:n { \c_true_bool  }              \NEWLINE
  \bool_p:n { \c_false_bool }              \NEWLINE     
  \bool_p:n { \c_true_bool  || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_false_bool }          
}

\TESTEXP{Triplet~combinations~I}{                              
  \bool_p:n { \c_true_bool  && \c_true_bool  && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_true_bool  && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_false_bool && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_false_bool && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_true_bool  && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_true_bool  && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_false_bool && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_false_bool && \c_false_bool }          
}

\TESTEXP{Triplet~combinations~II}{                             
  \bool_p:n { \c_true_bool  || \c_true_bool  || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_true_bool  || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_false_bool || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_false_bool || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_true_bool  || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_true_bool  || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_false_bool || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_false_bool || \c_false_bool }          
}

\TESTEXP{Triplet~combinations~III}{                            
  \bool_p:n { \c_true_bool  && \c_true_bool  || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_true_bool  || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_false_bool || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_false_bool || \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_true_bool  || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_true_bool  || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_true_bool  && \c_false_bool || \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool && \c_false_bool || \c_false_bool }          
}

\TESTEXP{Triplet~combinations~IV}{                             
  \bool_p:n { \c_true_bool  || \c_true_bool  && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_true_bool  && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_false_bool && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_false_bool && \c_true_bool  }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_true_bool  && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_true_bool  && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_true_bool  || \c_false_bool && \c_false_bool }  \NEWLINE
  \bool_p:n { \c_false_bool || \c_false_bool && \c_false_bool }          
}


\TESTEXP{Lazy~evaluation}{
  \bool_p:n{
    \int_compare_p:nNn 1=1 &&
    \bool_p:n {
      \int_compare_p:nNn 2=3 ||
      \int_compare_p:nNn 4=4 ||
      \int_compare_p:nNn 1=\ERROR % is skipped
    } &&
    \int_compare_p:nNn 2=2 
  }
}

\TESTEXP{XOR}{                   
  \bool_xor_p:nn { \c_true_bool  }{ \c_true_bool  }  \NEWLINE
  \bool_xor_p:nn { \c_true_bool  }{ \c_false_bool }  \NEWLINE
  \bool_xor_p:nn { \c_false_bool }{ \c_true_bool  }  \NEWLINE
  \bool_xor_p:nn { \c_false_bool }{ \c_false_bool }          
}

\END
