%
% Copyright (C) 2010 LaTeX3 Project
% 

\documentclass{minimal}
\input{regression-test}

\RequirePackage{xcoffins}

\begin{document}
\START
\AUTHOR{Frank Mittelbach}
\ExplSyntaxOn

\OMIT
\TIMO


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{1:~ new~ +~ show}{
 \fp_new:N \l_A_fp
 \fp_new:c {l_A_fp}
 \fp_new:N \g_A_fp
 \fp_new:c {l_B_fp}
 \fp_show:N \l_A_fp
 \fp_show:N \g_A_fp
 \fp_show:N \l_B_fp
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{2:~ set_from_dim}{
  \fp_set_from_dim:Nn  \l_A_fp {1pt}
  \fp_gset_from_dim:Nn \g_A_fp {1sp}
 \fp_show:N \l_A_fp
 \dimen0=1sp
 \showthe\dimen0
 \fp_show:N \g_A_fp
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{3:~ set_eq}{
 \fp_show:N \l_A_fp
 \fp_gset_eq:NN \l_A_fp \g_A_fp
 \fp_show:N \l_A_fp
 \fp_zero:N \g_A_fp  % local?
 \fp_show:N \g_A_fp
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{4:~ setting~ fps}{
 \fp_show:N \g_A_fp % still > 0?
 \fp_set:Nn \l_A_fp {123456789.123456789}
 \fp_show:N \l_A_fp
 \fp_set:Nn \l_A_fp {123456789.123456789123}\BUG? should this be checked?
 \fp_show:N \l_A_fp
 \fp_set:Nn \l_A_fp {12345678901.12345678901}\BUG? should this be checked?
 \fp_show:N \l_A_fp
 \fp_set:Nn \l_B_fp {12345.123456}
 \fp_gset:Nn \g_A_fp {\l_B_fp}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{}{
 \fp_show:N \l_B_fp
 \fp_show:N \g_A_fp % now 12345.123456?
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{}{
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{}{
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{}{
}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\TEST{}{
}


\END
