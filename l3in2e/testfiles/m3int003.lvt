%
% Copyright (C) 2008 LaTeX3 Project
% 

\documentclass{minimal}
\input{regression-test}

\RequirePackage{l3int}

\begin{document}
\AUTHOR{Will~Robertson}
\START

\TEST{use}{
  \TYPE {\int_use:N \l_tmpa_int}
  \SEPARATOR
  \TYPE {\int_use:N \l_tmpz_int}
  \SEPARATOR
  \TYPE {\int_use:c {l_tmpb_int}}
  \SEPARATOR
  \TYPE {\int_use:c {l_tmpy_int}}
}

\TESTEXP{eval}{
  \int_to_number:w \int_eval:w 50 / 5 \int_eval_end: \NEWLINE
  \int_to_number:w \int_eval:w  5 / 3 \int_eval_end: \NEWLINE
  \int_to_number:w \int_eval:w  4 / 3 \int_eval_end: \NEWLINE
  \int_to_number:w \int_eval:w  4 + 3 \int_eval_end: \NEWLINE
  \int_to_number:w \int_eval:w -4 + 3 \int_eval_end: \NEWLINE
}


\TESTEXP{max/min/abs}{
  \int_max_of:nn {0} {0} \NEWLINE
  \int_max_of:nn {-999} {0} \NEWLINE
  \int_max_of:nn {-999} {-5+6} \NEWLINE
  \int_max_of:nn {999} {5} \NEWLINE
  === \NEWLINE
  \int_min_of:nn {0} {0} \NEWLINE
  \int_min_of:nn {-999} {0} \NEWLINE
  \int_min_of:nn {-999-1} {-15+50098} \NEWLINE
  \int_min_of:nn {999} {0} \NEWLINE
  === \NEWLINE
  \int_abs:n {0} \NEWLINE
  \int_abs:n {-7}     = \int_to_number:w \int_abs:n {-7} \NEWLINE
  \int_abs:n {-15+30} = \int_to_number:w \int_abs:n {-15+30} \NEWLINE
  \int_abs:n {-15-30} = \int_to_number:w \int_abs:n {-15-30} \NEWLINE
}

\TESTEXP{div_truncate/div_round/mod}{
  \int_to_number:w \int_div_truncate:nn {10}{5} ~/~
  \int_to_number:w \int_div_round:nn    {10}{5} ~/~
  \int_to_number:w \int_mod:nn          {10}{5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {14}{5} ~/~
  \int_to_number:w \int_div_round:nn    {14}{5} ~/~
  \int_to_number:w \int_mod:nn          {14}{5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {9}{5}  ~/~
  \int_to_number:w \int_div_round:nn    {9}{5}  ~/~
  \int_to_number:w \int_mod:nn          {9}{5}  \NEWLINE
  ================== \NEWLINE
  \int_to_number:w \int_div_truncate:nn {-10}{5} ~/~
  \int_to_number:w \int_div_round:nn    {-10}{5} ~/~
  \int_to_number:w \int_mod:nn          {-10}{5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {-14}{5} ~/~
  \int_to_number:w \int_div_round:nn    {-14}{5} ~/~
  \int_to_number:w \int_mod:nn          {-14}{5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {-9}{5}  ~/~
  \int_to_number:w \int_div_round:nn    {-9}{5}  ~/~
  \int_to_number:w \int_mod:nn          {-9}{5}  \NEWLINE
  ================== \NEWLINE
  \int_to_number:w \int_div_truncate:nn {10}{-5} ~/~
  \int_to_number:w \int_div_round:nn    {10}{-5} ~/~
  \int_to_number:w \int_mod:nn          {10}{-5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {14}{-5} ~/~
  \int_to_number:w \int_div_round:nn    {14}{-5} ~/~
  \int_to_number:w \int_mod:nn          {14}{-5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {9} {-5}  ~/~
  \int_to_number:w \int_div_round:nn    {9} {-5}  ~/~
  \int_to_number:w \int_mod:nn          {9} {-5}  \NEWLINE
  ================== \NEWLINE
  \int_to_number:w \int_div_truncate:nn {-10}{-5} ~/~
  \int_to_number:w \int_div_round:nn    {-10}{-5} ~/~
  \int_to_number:w \int_mod:nn          {-10}{-5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {-14}{-5} ~/~
  \int_to_number:w \int_div_round:nn    {-14}{-5} ~/~
  \int_to_number:w \int_mod:nn          {-14}{-5} \NEWLINE
  \int_to_number:w \int_div_truncate:nn {-9} {-5}  ~/~
  \int_to_number:w \int_div_round:nn    {-9} {-5}  ~/~
  \int_to_number:w \int_mod:nn          {-9} {-5} 
}


\TESTEXP{if_odd}{
  \int_if_odd_p:n {0}   \space
  \int_if_odd_p:n {1}   \space
  \int_if_odd_p:n {2}   \space
  \int_if_odd_p:n {1-2} \space
  \int_if_odd_p:n {2-4} \space
  \NEWLINE ================= \NEWLINE
  \int_if_odd:nTF {0}     {T}{F} \space
  \int_if_odd:nTF {1}     {T}{F} \space
  \int_if_odd:nTF {2}     {T}{F} \space
  \int_if_odd:nTF {1-2}   {T}{F} \space
  \int_if_odd:nTF {2-4}   {T}{F} \space
  \NEWLINE ================= \NEWLINE
  \int_if_odd:nT {1}     {T} \space
  \int_if_odd:nT {1-2}   {T} \space
  \NEWLINE ================= \NEWLINE
  \int_if_odd:nF {0}     {F} \space
  \int_if_odd:nF {2}     {F} \space
  \int_if_odd:nF {2-4}   {F} \space
}
  

\TEST{while_do/do_while}{
  \int_zero:N \l_tmpa_int
  \int_while_do:nNnn {\l_tmpa_int} < {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
  \SEPARATOR
  \int_zero:N \l_tmpa_int
  \int_until_do:nNnn {\l_tmpa_int} > {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
  \SEPARATOR
  \int_zero:N \l_tmpa_int
  \int_do_while:nNnn {\l_tmpa_int} < {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
  \SEPARATOR
  \int_zero:N \l_tmpa_int
  \int_do_until:nNnn {\l_tmpa_int} > {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
}

\TEST{while_do/do_while~differences}{
  \message{while_do:nT:~}
  \int_zero:N \l_tmpa_int
  \int_while_do:nNnn {\l_tmpa_int} > {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
  \SEPARATOR
  \message{while_do:nF:~}
  \int_zero:N \l_tmpa_int
  \int_until_do:nNnn {\l_tmpa_int} < {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
  \SEPARATOR
  \message{do_while:nT:~}
  \int_zero:N \l_tmpa_int
  \int_do_while:nNnn {\l_tmpa_int} > {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
  \SEPARATOR
  \message{do_while:nF:~}
  \int_zero:N \l_tmpa_int
  \int_do_until:nNnn {\l_tmpa_int} < {10} {
    \message {[\int_use:N \l_tmpa_int]} 
    \int_incr:N \l_tmpa_int
  }
}

\END
