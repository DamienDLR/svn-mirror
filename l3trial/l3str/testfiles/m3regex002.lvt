%
% Copyright (C) 2009 LaTeX3 Project
% 

\documentclass{minimal}
\input{regression-test}

\RequirePackage{l3regex}

\begin{document}
\START
\AUTHOR{Bruno Le Floch}
\ExplSyntaxOn

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cs_set_protected:Npn \test:nn #1#2
  {
    \regex_match_count:nnN {#1} {#2} \l_tmpa_int
    \int_show:N \l_tmpa_int
  }
\TEST{count}{
  \test:nn { a }        { How~many~occurrences~are~there? }
  \test:nn { \b[a-z] }  { How~many~occurrences~are~there? }
  \test:nn { \s }       { How~many~occurrences~are~there? }
  \test:nn { \S\S\S }   { How~many~occurrences~are~there? }
  \test:nn { }          { How~many~occurrences~are~there? }
  \test:nn { c* }       { How~many~occurrences~are~there? }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cs_set_protected:Npn \test:nn #1#2
  {
    \regex_split:nnN {#1} {#2} \l_tmpa_seq
    \seq_show:N \l_tmpa_seq
  }
\TEST{split}{
  \test:nn { a }        { How~many~occurrences~are~there? }
  \test:nn { \b }       { How~many~occurrences~are~there? }
  \test:nn { \b[a-z] }  { How~many~occurrences~are~there? }
  \test:nn { \s }       { How~many~occurrences~are~there? }
  \test:nn { \S\S\S }   { How~many~occurrences~are~there? }
  \test:nn { }          { How~many~occurrences~are~there? }
  \test:nn { c* }       { How~many~occurrences~are~there? }
  \test:nn { , }   { ,a,b,,c,}
  \test:nn { }     { abc }
  \test:nn { a* }  { baaacadae }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\END
