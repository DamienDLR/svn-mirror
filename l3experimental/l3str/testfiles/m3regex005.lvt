%
% Copyright (C) 2011 LaTeX3 Project
%

\documentclass{minimal}
\input{regression-test}

\RequirePackage{l3regex}

\begin{document}
\START
\AUTHOR{Bruno Le Floch}
\ExplSyntaxOn

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\cs_set_protected:Npn \test:nn #1#2
  {
    \regex_extract_all:nnN {#1} {#2} \l_foo_seq
    \seq_map_function:NN \l_foo_seq \tl_display:n
  }
\TEST{on~token~lists}{
  \test:nn { \c1 \cB* \c2 } { {abc} def { gh {ijk}lm } }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\END
