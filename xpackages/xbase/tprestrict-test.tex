
\makeatletter
\RequirePackage{template}
\IgnoreWhiteSpace
\input{tprestrict}

\newcount\ca
\newdimen\da

\DeclareTemplate{type}{Ta}{0}{
   one =l [2in] \da,
   two =c [5]  \ca}
  {\DoParameterAssignments\typeout{^^J\da=\the\da,\@spaces \ca=\the\ca}}

\typeout{1^^J==}
\UseTemplate{Type}{Ta}{}

\typeout{2^^J==}
\UseTemplate{type}{Ta}{one=44pt, two=7}

\typeout{3^^J==}

\DeclareRestrictedTemplate{type}{Tb}{Ta}{one=33pt}
\typeout{RESTRICT^^J5^^J==}

\DeclareInstance{type}{foo}{Tb}{two=9}
\UseInstance{type}{foo}

\typeout{6^^J==}
%\x\tracingall\tracingassigns=1\relax
\UseTemplate{type}{Tb}{two=7}

\stop

