%
% Copyright (C) 2009 LaTeX3 Project
% 

\documentclass{minimal}
\input{regression-test}

\RequirePackage{template-new}

\begin{document}
\START
\AUTHOR{Will Robertson}
\ExplSyntaxOn

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\OMIT
\def\aaa{}\def\bbb{}\def\ccc{}
\DeclareObjectType{obj}{0}
  \DeclareTemplateInterface{obj}{tmpt1}{0}
{
  akey: tokenlist,
  bkey: tokenlist = fuzz,
  ckey: tokenlist,
}
\DeclareTemplateCode{obj}{tmpt1}{0}
{
  akey = \aaa , 
  bkey = \bbb , 
  ckey = global \ccc , 
}
{
  \DoParameterAssignments
  \typeout{(a:~\aaa)~(b:~\bbb)~(c:~\ccc)}
}
\DeclareInstance {obj}{inst} {tmpt1}{akey=foo}  
\DeclareInstance {obj}{inst2}{tmpt1}{akey=bar,bkey=baz,ckey=glob}  
\TIMO

\TEST{Testing~TOKENLIST~keytype}{
  \group_begin:
    \UseInstance{obj}{inst}
    \UseInstance{obj}{inst2}
  \group_end:
  \typeout{(a:~\aaa)~(b:~\bbb)~(c:~\ccc)}
}



\END
