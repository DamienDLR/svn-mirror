This is a generated file for the LaTeX (2e + expl3) validation system.
Don't change this file in any respect.
%% \CharacterTable
%%  {Upper-case    \A\B\C\D\E\F\G\H\I\J\K\L\M\N\O\P\Q\R\S\T\U\V\W\X\Y\Z
%%   Lower-case    \a\b\c\d\e\f\g\h\i\j\k\l\m\n\o\p\q\r\s\t\u\v\w\x\y\z
%%   Digits        \0\1\2\3\4\5\6\7\8\9
%%   Exclamation   \!     Double quote  \"     Hash (number) \#
%%   Dollar        \$     Percent       \%     Ampersand     \&
%%   Acute accent  \'     Left paren    \(     Right paren   \)
%%   Asterisk      \*     Plus          \+     Comma         \,
%%   Minus         \-     Point         \.     Solidus       \/
%%   Colon         \:     Semicolon     \;     Less than     \<
%%   Equals        \=     Greater than  \>     Question mark \?
%%   Commercial at \@     Left bracket  \[     Backslash     \\
%%   Right bracket \]     Circumflex    \^     Underscore    \_
%%   Grave accent  \`     Left brace    \{     Vertical bar  \|
%%   Right brace   \}     Tilde         \~}
%%
Author: Joseph Wright, Frank Mittelbach
============================================================
TEST 1: Checking for existing definitions
============================================================
! xparse Error
(xparse) Command name `\foo' already defined!
For immediate help type H <return>.
 ...                                              
l.47 }
You have used \NewDocumentCommand
with a command that already has a definition.
Perhaps you meant \RenewDocumentCommand.
! xparse Error
(xparse) Command `\foo' not yet defined!
For immediate help type H <return>.
 ...                                              
l.47 }
You have used \RenewDocumentCommand
with a command that was never defined.
Perhaps you meant \NewDocumentCommand.
> \foo=\protected macro:
->First definition.
<argument> \foo 
l.47 }
============================================================
============================================================
TEST 2: Commands with simple mandatory arguments
============================================================
> \foo=\protected macro:
#1->(#1).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2->(#1)(#2).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3->(#1)(#2)(#3).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3#4->(#1)(#2)(#3)(#4).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3#4#5->(#1)(#2)(#3)(#4)(#5).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3#4#5#6->(#1)(#2)(#3)(#4)(#5)(#6).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3#4#5#6#7->(#1)(#2)(#3)(#4)(#5)(#6)(#7).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3#4#5#6#7#8->(#1)(#2)(#3)(#4)(#5)(#6)(#7)(#8).
<argument> \foo 
l.73 }
> \foo=\protected macro:
#1#2#3#4#5#6#7#8#9->(#1)(#2)(#3)(#4)(#5)(#6)(#7)(#8)(#9).
<argument> \foo 
l.73 }
============================================================
============================================================
TEST 3: Command with too many arguments
============================================================
! This is a LaTeX bug: check coding!
! You're trying to define the command `\foo' with 10 arguments but I only allow
 0-9 arguments. Perhaps you forgot to use a colon in the function name? I can p
robably not help you here
For immediate help type H <return>.
 ...                                              
l.78 }
There is a coding bug somewhere around here.
This probably needs examining by an expert.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
> \foo=undefined.
<argument> \foo 
l.78 }
============================================================
============================================================
TEST 4: Commands with one long mandatory argument
============================================================
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1->(#1).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_2:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_3:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3#4->(#1)(#2)(#3)(#4).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_4:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3#4#5->(#1)(#2)(#3)(#4)(#5).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_5:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3#4#5#6->(#1)(#2)(#3)(#4)(#5)(#6).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_6:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3#4#5#6#7->(#1)(#2)(#3)(#4)(#5)(#6)(#7).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_7:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3#4#5#6#7#8->(#1)(#2)(#3)(#4)(#5)(#6)(#7)(#8).
<recently read> \\foo 
l.104 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_8:w \xparse_grab_m_long:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.104 }
> \\foo=\long macro:
#1#2#3#4#5#6#7#8#9->(#1)(#2)(#3)(#4)(#5)(#6)(#7)(#8)(#9).
<recently read> \\foo 
l.104 }
============================================================
============================================================
TEST 5: Commands with one processed mandatory argument
============================================================
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1->(#1).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_2:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_3:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3#4->(#1)(#2)(#3)(#4).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_4:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3#4#5->(#1)(#2)(#3)(#4)(#5).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_5:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3#4#5#6->(#1)(#2)(#3)(#4)(#5)(#6).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_6:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3#4#5#6#7->(#1)(#2)(#3)(#4)(#5)(#6)(#7).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_7:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3#4#5#6#7#8->(#1)(#2)(#3)(#4)(#5)(#6)(#7)(#8).
<recently read> \\foo 
l.131 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_8:w \xparse_process_arg:n {\foo }\xparse_grab_m:w \toks_use:N \l
_xparse_args_toks .
<argument> \foo 
l.131 }
> \\foo=\long macro:
#1#2#3#4#5#6#7#8#9->(#1)(#2)(#3)(#4)(#5)(#6)(#7)(#8)(#9).
<recently read> \\foo 
l.131 }
============================================================
============================================================
TEST 6: Arguments read up to first brace
============================================================
> \l_test_tl=macro:
->(\bar )(1).
<argument> \l_test_tl 
l.154 }
> \l_test_tl=macro:
->(100)(2).
<argument> \l_test_tl 
l.154 }
> \l_test_tl=macro:
->(\bar )(1).
<argument> \l_test_tl 
l.154 }
> \l_test_tl=macro:
->(100)(2).
<argument> \l_test_tl 
l.154 }
============================================================
============================================================
TEST 7: Various mandatory combinations
============================================================
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_l:w \xparse_grab_m_1:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.167 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.167 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_grab_l:w \xparse_grab_m_1:w \toks_use:N \l_xparse_ar
gs_toks .
<argument> \foo 
l.167 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.167 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_u:w {end}\xparse_grab_u:w {stop!}\toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.167 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.167 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_l:w \xparse_grab_l:w \xparse_grab_l:w \toks_use:N \l_xparse_args_t
oks .
<argument> \foo 
l.167 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.167 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_l_long:w \xparse_process_arg:n {\foo }\xparse_grab_u:w {end}\toks_
use:N \l_xparse_args_toks .
<argument> \foo 
l.167 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.167 }
============================================================
============================================================
TEST 8: Optional argument creation
============================================================
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_t:w *\xparse_grab_D:w []{\NoValue }\xparse_grab_m_1:w \toks_use:N 
\l_xparse_args_toks .
<argument> \foo 
l.183 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.183 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_t:w +\xparse_grab_D:w (){\NoValue }\xparse_grab_m_long:w \toks_use
:N \l_xparse_args_toks .
<argument> \foo 
l.183 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.183 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_t_long:w \par \xparse_grab_D:w []{default}\xparse_grab_m_3:w \toks
_use:N \l_xparse_args_toks .
<argument> \foo 
l.183 }
> \\foo=\long macro:
#1#2#3#4#5->(#1)(#2)(#3)(#4).
<recently read> \\foo 
l.183 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_grab_D:w []{\NoValue }\xparse_grab_m_1:w \xparse_gra
b_D_trailing:w []{\NoValue }\toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.183 }
> \\foo=\long macro:
#1#2#3#4->(#1)(#2)(#3)(#4).
<recently read> \\foo 
l.183 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_grab_G:w {\NoValue }\xparse_grab_D:w []{\NoValue }\x
parse_grab_m_1:w \toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.183 }
> \\foo=\long macro:
#1#2#3#4->(#1)(#2)(#3)(#4).
<recently read> \\foo 
l.183 }
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_grab_G:w {test}\xparse_grab_t:w *\xparse_grab_m_1:w 
\toks_use:N \l_xparse_args_toks .
<argument> \foo 
l.183 }
> \\foo=\long macro:
#1#2#3#4->(#1)(#2)(#3)(#4).
<recently read> \\foo 
l.183 }
============================================================
============================================================
TEST 9: Unknown argument types
============================================================
! xparse Error
(xparse) Unknown argument type `n' replaced by `m'. Fingers crossed ...
For immediate help type H <return>.
 ...                                              
l.190 }
LaTeX does not know anything more about this error, sorry.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
> \foo=\protected macro:
#1#2#3->.
<argument> \foo 
l.190 }
! xparse Error
(xparse) Unknown argument type `a' replaced by `m'. Fingers crossed ...
For immediate help type H <return>.
 ...                                              
l.190 }
LaTeX does not know anything more about this error, sorry.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
! xparse Error
(xparse) Unknown argument type `b' replaced by `m'. Fingers crossed ...
For immediate help type H <return>.
 ...                                              
l.190 }
LaTeX does not know anything more about this error, sorry.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
! xparse Error
(xparse) Unknown argument type `c' replaced by `m'. Fingers crossed ...
For immediate help type H <return>.
 ...                                              
l.190 }
LaTeX does not know anything more about this error, sorry.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
> \foo=\protected macro:
#1#2#3->.
<argument> \foo 
l.190 }
============================================================
============================================================
TEST 10: Some valid expandable functions
============================================================
> \foo=macro:
#1->(#1).
<argument> \foo 
l.207 }
> \foo=\long macro:
#1->(#1).
<argument> \foo 
l.207 }
> \foo=macro:
#1#2#3->(#1)(#2)(#3).
<argument> \foo 
l.207 }
> \foo=macro:
->\\foo1 x\q_xparse_stop .
<argument> \foo 
l.207 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.207 }
> \foo=macro:
->\\foo1 x\q_xparse_stop .
<argument> \foo 
l.207 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.207 }
> \foo=macro:
->\\foo1 x\q_xparse_stop .
<argument> \foo 
l.207 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.207 }
> \foo=macro:
->\\foo1 x\q_xparse_stop .
<argument> \foo 
l.207 }
> \\foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \\foo 
l.207 }
============================================================
============================================================
TEST 11: Not valid as expandable functions
============================================================
! xparse Error
(xparse) Expandable command signature ends in optional argument.
For immediate help type H <return>.
 ...                                              
l.216 }
Expandable functions must have a final mandatory argument.
> \foo=undefined.
<argument> \foo 
l.216 }
! xparse Error
(xparse) Inconsistent long arguments.
For immediate help type H <return>.
 ...                                              
l.216 }
Expandable commands must have all arguments long if any at all.
! xparse Error
(xparse) Inconsistent long arguments.
For immediate help type H <return>.
 ...                                              
l.216 }
Expandable commands must have all arguments long if any at all.
> \foo=\long macro:
#1#2#3->(#1)(#2)(#3).
<argument> \foo 
l.216 }
! xparse Error
(xparse) Inconsistent long arguments.
For immediate help type H <return>.
 ...                                              
l.216 }
Expandable commands must have all arguments long if any at all.
> \foo=macro:
->\\foo1 x\q_xparse_stop .
<argument> \foo 
l.216 }
> \\foo=\long macro:
#1#2->(#1)(#2).
<recently read> \\foo 
l.216 }
============================================================
============================================================
TEST 12: Separating out interface and implementation
============================================================
> \foo=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\foo }
\xparse_grab_m_1:w \xparse_grab_D_trailing:w []{\NoValue }\toks_use:N \l_xparse
_args_toks .
<argument> \foo 
l.224 }
> \\foo=\long macro:
#1#2->\use:c {implementation_foo:w}.
<recently read> \\foo 
l.224 }
> \implementation_foo:w=\long macro:
#1#2->``foo''.
<recently read> \implementation_foo:w 
l.224 }
> \implementation_foo:w=\long macro:
#1#2->(#1)(#2).
<recently read> \implementation_foo:w 
l.224 }
============================================================
============================================================
TEST 13: Checking for existing environments
============================================================
! xparse Error
(xparse) Environment `foo' already defined!
For immediate help type H <return>.
 ...                                              
l.241 }
LaTeX does not know anything more about this error, sorry.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
! xparse Error
(xparse) Environment `foo' not yet defined!
For immediate help type H <return>.
 ...                                              
l.241 }
LaTeX does not know anything more about this error, sorry.
Try typing <return> to proceed.
If that doesn't work, type X <return> to quit
> \environment_begin_foo:w=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\envir
onment_begin_foo:w }\toks_use:N \l_xparse_args_toks .
<recently read> \environment_begin_foo:w 
l.241 }
> \\environment_begin_foo:w=\long macro:
->\group_begin: \toks_set_eq:NN \l_xparse_environment_args_toks \l_xparse_args_
toks First.
<recently read> \\environment_begin_foo:w 
l.241 }
> \environment_end_foo:w=macro:
->\exp_last_unbraced:NV \environment_end_foo_aux:N \l_xparse_environment_args_t
oks \group_end: .
<recently read> \environment_end_foo:w 
l.241 }
> \environment_end_foo_aux:w=\long macro:
->First.
<recently read> \environment_end_foo_aux:w 
l.241 }
============================================================
============================================================
TEST 14: Valid environment declarations
============================================================
> \environment_begin_foo:w=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\envir
onment_begin_foo:w }\xparse_grab_m_3:w \toks_use:N \l_xparse_args_toks .
<recently read> \environment_begin_foo:w 
l.259 }
> \\environment_begin_foo:w=\long macro:
#1#2#3->\group_begin: \toks_set_eq:NN \l_xparse_environment_args_toks \l_xparse
_args_toks (#1)(#2)(#3).
<recently read> \\environment_begin_foo:w 
l.259 }
> \environment_end_foo:w=macro:
->\exp_last_unbraced:NV \environment_end_foo_aux:N \l_xparse_environment_args_t
oks \group_end: .
<recently read> \environment_end_foo:w 
l.259 }
> \environment_end_foo_aux:w=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \environment_end_foo_aux:w 
l.259 }
> \environment_begin_foo:w=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\envir
onment_begin_foo:w }\xparse_grab_t:w *\xparse_grab_D:w []{\NoValue }\xparse_gra
b_m_1:w \toks_use:N \l_xparse_args_toks .
<recently read> \environment_begin_foo:w 
l.259 }
> \\environment_begin_foo:w=\long macro:
#1#2#3->\group_begin: \toks_set_eq:NN \l_xparse_environment_args_toks \l_xparse
_args_toks (#1)(#2)(#3).
<recently read> \\environment_begin_foo:w 
l.259 }
> \environment_end_foo:w=macro:
->\exp_last_unbraced:NV \environment_end_foo_aux:N \l_xparse_environment_args_t
oks \group_end: .
<recently read> \environment_end_foo:w 
l.259 }
> \environment_end_foo_aux:w=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \environment_end_foo_aux:w 
l.259 }
> \environment_begin_foo:w=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\envir
onment_begin_foo:w }\xparse_grab_t:w *\xparse_grab_D:w []{\NoValue }\xparse_gra
b_m_long:w \toks_use:N \l_xparse_args_toks .
<recently read> \environment_begin_foo:w 
l.259 }
> \\environment_begin_foo:w=\long macro:
#1#2#3->\group_begin: \toks_set_eq:NN \l_xparse_environment_args_toks \l_xparse
_args_toks (#1)(#2)(#3).
<recently read> \\environment_begin_foo:w 
l.259 }
> \environment_end_foo:w=macro:
->\exp_last_unbraced:NV \environment_end_foo_aux:N \l_xparse_environment_args_t
oks \group_end: .
<recently read> \environment_end_foo:w 
l.259 }
> \environment_end_foo_aux:w=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \environment_end_foo_aux:w 
l.259 }
> \environment_begin_foo:w=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\envir
onment_begin_foo:w }\xparse_grab_u:w {stop}\xparse_grab_D:w []{\NoValue }\xpars
e_grab_m_1:w \toks_use:N \l_xparse_args_toks .
<recently read> \environment_begin_foo:w 
l.259 }
> \\environment_begin_foo:w=\long macro:
#1#2#3->\group_begin: \toks_set_eq:NN \l_xparse_environment_args_toks \l_xparse
_args_toks (#1)(#2)(#3).
<recently read> \\environment_begin_foo:w 
l.259 }
> \environment_end_foo:w=macro:
->\exp_last_unbraced:NV \environment_end_foo_aux:N \l_xparse_environment_args_t
oks \group_end: .
<recently read> \environment_end_foo:w 
l.259 }
> \environment_end_foo_aux:w=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \environment_end_foo_aux:w 
l.259 }
> \environment_begin_foo:w=\protected macro:
->\int_zero:N \l_xparse_processor_int \toks_set:Nn \l_xparse_args_toks {\\envir
onment_begin_foo:w }\xparse_grab_m_1:w \xparse_grab_D_trailing:w []{\NoValue }\
xparse_grab_D_trailing:w []{\NoValue }\toks_use:N \l_xparse_args_toks .
<recently read> \environment_begin_foo:w 
l.259 }
> \\environment_begin_foo:w=\long macro:
#1#2#3->\group_begin: \toks_set_eq:NN \l_xparse_environment_args_toks \l_xparse
_args_toks (#1)(#2)(#3).
<recently read> \\environment_begin_foo:w 
l.259 }
> \environment_end_foo:w=macro:
->\exp_last_unbraced:NV \environment_end_foo_aux:N \l_xparse_environment_args_t
oks \group_end: .
<recently read> \environment_end_foo:w 
l.259 }
> \environment_end_foo_aux:w=\long macro:
#1#2#3->(#1)(#2)(#3).
<recently read> \environment_end_foo_aux:w 
l.259 }
============================================================
============================================================
TEST 15: Environment groups: should show "outside" and 1
============================================================
> \l_test_tl=macro:
->outside.
<argument> \l_test_tl 
l.288 }
> 1.
<argument> ...t_tl \int_show:N \currentgrouplevel 
                                                  \tl_set:Nn \l_test_tl {out...
l.288 }
> \l_test_tl=macro:
->outside.
<argument> \l_test_tl 
l.288 }
> 1.
<argument> ...t_tl \int_show:N \currentgrouplevel 
                                                  \tl_set:Nn \l_test_tl {out...
l.288 }
> \l_test_tl=macro:
->outside.
<argument> \l_test_tl 
l.288 }
> 1.
<argument> ...t_tl \int_show:N \currentgrouplevel 
l.288 }
============================================================
============================================================
TEST 16: Passing args to end of environments: display correct args
============================================================
> \l_test_tl=macro:
->(A).
\environment_end_bazI_aux:w ..._show:N \l_test_tl 
l.311 }
> \l_test_tl=macro:
->(A)(B).
\environment_end_bazII_aux:w ...show:N \l_test_tl 
l.311 }
> \l_test_tl=macro:
->(A)(B)(C).
\environment_end_bazIII_aux:w ...how:N \l_test_tl 
l.311 }
> \l_test_tl=macro:
->(A)(\NoValue )(\NoValue ).
\environment_end_bazIIIa_aux:w ...ow:N \l_test_tl 
l.311 }
============================================================
