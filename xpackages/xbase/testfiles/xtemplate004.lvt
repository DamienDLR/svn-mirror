%
% Copyright (C) 2009 LaTeX3 Project
% 
% contains all tests for which I think we should first have to decide if 
% something needs updating or not

\documentclass{minimal}
\input{regression-test}

\RequirePackage{xtemplate}

\begin{document}
\START
\AUTHOR{Frank Mittelbach}
\ExplSyntaxOn

\OMIT
\cs_new:Npn \ERROR {\typeout{~}\typeout{***~ ==>~TEST~ SHOWS~ ERRORS~<==~
***}\typeout{~}}
\cs_new:Npn \IMPROVE {\typeout{~}\typeout{^^J^^J***~ ==>~RESULT~ COULD~ BE~ IMPROVED~<==~
***}\typeout{~}}

\DeclareObjectType { test } {1}
\int_new:N \l_test_int
\TIMO



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 2
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST{Testing~incomplete~ key~ types}{
  \DeclareTemplateInterface{ test } {tname} {1} 
      {
        key1 : choice ,                                   % missing syntax component
        key2 : function ,                                 % not detected
        key3 : instance ,
      }   
  \ShowTemplateKeytypes { test }  { tname }
\ERROR
}
 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 3
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST{Testing~key~names}{

  \DeclareTemplateInterface{ test } {tname} {1} 
      { key : integer,
        key : boolean                                      % double keys are
                                                           %  not detected
      }
%  \ShowTemplateKeytypes  { test }  { tname }
%  \ShowTemplateVariables { test }  { tname }
\ERROR both show cmds wil fail with lowlevel error
}


\END
