%
% Copyright (C) 2010 LaTeX3 Project
% 
\documentclass{minimal}
\input{regression-test}
\RequirePackage[log-functions]{expl3}

\begin{document}

\START
\AUTHOR{Will Robertson}
\ExplSyntaxOn

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TESTEXP{tl_if_single}{
  \tl_if_single:nTF {~}                   T?
  \tl_if_single:nTF {Z}                   T?
  \tl_if_single:nTF {$}                   T?
  \tl_if_single:nTF {#}                   T?
  \tl_if_single:nTF {^}                   T?
  \tl_if_single:nTF {_}                   T?
  \tl_if_single:nTF {^^65}                T?
  \tl_if_single:nTF {\bar}                T?
  \tl_if_single:nTF {\if}                 T?
  \tl_if_single:nTF {\fi}                 T?
  \tl_if_single:nTF {\bgroup}             T?
  \tl_if_single:nTF {\egroup}             T?
  \tl_if_single:nTF {\ifx}                T?
  \NEWLINE
  \tl_if_single:nTF {}                    ?F
  \tl_if_single:nTF {ZZ}                  ?F
  \tl_if_single:nTF {\bar\bar}            ?F
  \tl_if_single:nTF {\ifx z}              ?F
  \tl_if_single:nTF {z \ifx}              ?F
  \tl_if_single:nTF {\egroup\bgroup}      ?F
  \tl_if_single:nTF {\fi\fi\fi}           ?F
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST{bug~fix~for~tl_replace}{
  \tl_new:Nn \g_my_tl {aabono}
  \tl_replace_once:Nnn \g_my_tl {bonobo} {whatever}
  \tl_show:N \g_my_tl
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TESTEXP{Trim~spaces}{
  \TYPE { \tl_trim_spaces:n { ~ a b ~ c ~ } } \NEWLINE
  \TYPE { \tl_trim_spaces:n { ~ \use:n ~ { a b ~ c  ~ } ~ } } \NEWLINE
}

\END

