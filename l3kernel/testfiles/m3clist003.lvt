%
% Copyright (C) 2008-2011 The LaTeX Project
%
\documentclass{minimal}
\input{regression-test}

\RequirePackage[log-functions]{expl3}


\begin{document}
\START
\AUTHOR{Bruno Le Floch}
\ExplSyntaxOn

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST{length}{
  \int_show:n { \clist_length:n { a , b , c } }
  \int_show:n { \clist_length:n { } }
  \int_show:n { \exp_args:Nf \clist_length:n { \prg_replicate:nn {9} {~} } }
  \int_show:n { \exp_args:Nf \clist_length:n { \prg_replicate:nn {9} {{},} } }
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST{const}{
  { \clist_const:Nn \c_a_clist { a , b , c } }
  \clist_show:N \c_a_clist
  \clist_const:cn { c_b_clist } { }
  \clist_show:N \c_b_clist
  \clist_const:Nx \c_c_clist { \prg_replicate:nn {9} {~} }
  \clist_show:N \c_c_clist
  \clist_const:cx { c_d_clist } { \prg_replicate:nn { 9 } { { } , } }
  \clist_show:N \c_d_clist
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\TEST{const}{
  \clist_map_inline:nn { a , b , c , d }
    {
      \TYPE {#1}
      \str_if_eq:nnT {c} {#1}
        {
          \TYPE {Bingo!}
          \clist_map_break:n { \TYPE }
        }
    }
    { This~is~what~follows. }
}


\END
